package com.codegym.demo.config;import org.springframework.beans.BeansException;import org.springframework.beans.factory.FactoryBean;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.beans.factory.annotation.Value;import org.springframework.context.ApplicationContext;import org.springframework.context.ApplicationContextAware;import org.springframework.context.MessageSource;import org.springframework.context.annotation.Bean;import org.springframework.context.annotation.ComponentScan;import org.springframework.context.annotation.Configuration;import org.springframework.context.annotation.PropertySource;import org.springframework.context.support.PropertySourcesPlaceholderConfigurer;import org.springframework.context.support.ReloadableResourceBundleMessageSource;import org.springframework.context.support.ResourceBundleMessageSource;import org.springframework.data.jpa.repository.config.EnableJpaRepositories;import org.springframework.data.web.config.EnableSpringDataWebSupport;import org.springframework.format.Formatter;import org.springframework.format.FormatterRegistry;import org.springframework.jdbc.datasource.DriverManagerDataSource;import org.springframework.orm.jpa.JpaTransactionManager;import org.springframework.orm.jpa.JpaVendorAdapter;import org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean;import org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter;import org.springframework.stereotype.Component;import org.springframework.transaction.PlatformTransactionManager;import org.springframework.transaction.annotation.EnableTransactionManagement;import org.springframework.web.servlet.HandlerInterceptor;import org.springframework.web.servlet.LocaleResolver;import org.springframework.web.servlet.ViewResolver;import org.springframework.web.servlet.config.annotation.EnableWebMvc;import org.springframework.web.servlet.config.annotation.InterceptorRegistry;import org.springframework.web.servlet.config.annotation.WebMvcConfigurerAdapter;import org.springframework.web.servlet.i18n.CookieLocaleResolver;import org.springframework.web.servlet.i18n.LocaleChangeInterceptor;import org.springframework.web.servlet.i18n.SessionLocaleResolver;import org.thymeleaf.TemplateEngine;import org.thymeleaf.spring5.SpringTemplateEngine;import org.thymeleaf.spring5.templateresolver.SpringResourceTemplateResolver;import org.thymeleaf.spring5.view.ThymeleafViewResolver;import org.thymeleaf.templatemode.TemplateMode;import org.thymeleaf.templateresolver.ITemplateResolver;import javax.persistence.EntityManager;import javax.persistence.EntityManagerFactory;import javax.sql.DataSource;import java.io.IOException;import java.util.Locale;import java.util.Properties;@Configurationpublic class AppConfig extends WebMvcConfigurerAdapter implements ApplicationContextAware {    private ApplicationContext appContext;    @Override    public void setApplicationContext(ApplicationContext applicationContext) throws BeansException {        this.appContext = applicationContext;    }    @Override    public void addInterceptors(InterceptorRegistry registry) {        LocaleChangeInterceptor interceptor = new LocaleChangeInterceptor();        registry.addInterceptor(interceptor);        interceptor.setParamName("lang");    }    @Bean    public LocaleResolver localeResolver(){        SessionLocaleResolver localeResolver = new SessionLocaleResolver();        localeResolver.setDefaultLocale(new Locale("en"));        return localeResolver;    }}